## H2 網段網路位址和網段廣播位址 

:::info
網段網路位址和網段廣播位址
那要如何從一個IP位址和子網路遮罩得知網路位址和網段廣播位址呢? 
實際的情形是：當知道 IP位址 和 子網路遮罩 (都是二進位數字)之後，可使用一個 AND 的二進位邏輯運算，來求出網段網路位址。我們任選一個 IP位址來做例子﹕
範例一：IP位址：139.175.153.252 換成二進位是﹕
```
10001011.10101111.10011001.11111100
```

給予子網路遮罩是255.255.0.0，換成二進位﹕
```
11111111.11111111.00000000.00000000
```

然後將IP位址和子網路遮罩以 AND 運算﹕
```
10001011.10101111.10011001.11111100
AND
11111111.11111111.00000000.00000000
```
得出網段網路位址﹕
```
10001011.10101111.00000000.00000000
```
換成十進位就是139.175.0.0，就是網段網路位址。

然後將IP位址和(NOT子網路遮罩)以 OR 運算﹕
```
10001011.10101111.10011001.11111100
OR
00000000.00000000.11111111.11111111 = NOT
(11111111.11111111.00000000.00000000)
```
得出網段廣播位址﹕
```
10001011.10101111.11111111.11111111
```
換成十進位就是139.175.255.255，就是網段廣播位址。
:::

:::info
範例二：
IP位址 AND (子網路遮罩) = 網段網路位址  
```
10.104.69.0 AND (255.255.255.192) =  10.104.69.0
```

IP位址 OR (NOT子網路遮罩) =  網段廣播位址
```
10.104.69.0 OR (NOT 255.255.255.192) =
10.104.69.0 OR 0.0.0.63 = 10.104.69.63
```
:::

:::info
範例三：假設某IP位址為192.15.156.205，子網路遮罩為255.255.255.224，
請推算出該網段網路位址？IP做一次 AND 運算﹐就可以得到網段網路位址:
```
192.15.156.205 AND (255.255.255.224)
11000000.00001111.10011100.11001101
AND
11111111.11111111.11111111.11100000
```
得出﹕
```
11000000.00001111.10011100.11000000
```
換成十進位就：192.15.156.192

假設某IP位址為192.15.156.205，子網路遮罩為255.255.255.224，請推算出該網段廣播位址？
先將子網路遮罩 255.255.255.224 做一個 NOT 運算：
```
11111111.11111111.11111111.11100000 => 
NOT
00000000.00000000.00000000.00011111
```

然後再和IP做一次 OR 運算﹐就可以得到網段廣播位址:
192.15.156.205 OR (NOT 255.255.255.224)
```
11000000.00001111.10011100.11001101 
OR    
00000000.00000000.00000000.00011111
```
得出﹕
```
11000000.00001111.10011100.11011111
```
換成十進位就：192.15.156.223
:::



### 輸入
:::warning
第一列的數字$n$代表有幾筆資料要測試，之後每列為每筆的測試資料，共有二個資料，內容為IP位址和子網路遮罩，中間以“/”隔開。例如
139.175.153.252/16 這組測試資料中，
139.175.153.252為IP位址，16為子網路遮罩有16個1，換算為255.255.0.0子網路遮罩。

10.104.69.0/26 這組測試資料中，
10.104.69.0為IP位址，26為子網路遮罩有26個1，換算為255.255.255.192子網路遮罩。

192.15.156.205/27 這組測試資料中，
192.15.156.205為IP位址，27為子網路遮罩有27個1，換算為 255.255.255.224子網路遮罩。
:::

### 輸出
:::success
每筆測試資料輸出一列。依IP位址/子網路遮罩資訊，輸出網段網路位址/網段廣播位址。
:::

### 範例輸入輸出
範例輸入
```shell=
3
139.175.153.252/16
10.104.69.0/26
192.15.156.205/27
```
範例輸出
```shell=
139.175.0.0/139.175.255.255
10.104.69.0/10.104.69.63
192.15.156.192/192.15.156.223
```
<!---
範例輸入 II
```shell=
4
192.168.10.65/27
10.240.168.19/18
172.16.115.65/23
192.168.168.19/28
```

範例輸出 II
```shell=
192.168.10.64/192.168.10.95
10.240.128.0/10.240.191.255
172.16.114.0/172.16.115.255
192.168.168.16/192.168.168.31
```


:::spoiler 偷看解答
```python=
import sys
n = int(sys.stdin.readline())

def len2mask(len):
    """Convert a bit length to a dotted netmask (aka. CIDR to netmask)"""
    mask = ''
    if not isinstance(len, int) or len < 0 or len > 32:
        print("Illegal subnet length: %s (which is a %s)" % (str(len), type(len).__name__))
        return None
    
    for t in range(4):
        if len > 7:
            mask += '255.'
        else:
            dec = 255 - (2**(8 - len) - 1)
            mask += str(dec) + '.'
        len -= 8
        if len < 0:
            len = 0
    
    return mask[:-1]

def solve():
    data = sys.stdin.readline().replace("\n","").split("/")
    #print(data[0],data[1])
    ip = [int(_) for _ in data[0].split(".")]
    #print("ip",ip)
    data1=len2mask(int(data[1]))
    #print("data1",data1)
    mask = [int(_) for _ in data1.split(".")]
    re1 = []
    re2 = []
    for i in range(len(ip)):
        re1.append(andop(ip[i],mask[i]))
        re2.append(ornot(ip[i],mask[i]))
    IP1 = ".".join(str(_) for _ in re1)
    IP2 = (".".join(str(_) for _ in re2))
    print(IP1 + "/" + IP2)

def ornot(n1,n2):
   st1 = bin(n1).replace("0b","").zfill(8)
   st2 = bin(n2).replace("0b","").zfill(8)
   re = ""
   for i in range(len(st1)):
      if st1[i] == "0" and st2[i] == "1": re += "0"
      else: re += "1"
   return int(re,2)

def andop(str1,str2):
    st1 = bin(str1).replace("0b","").zfill(8)
    st2 = bin(str2).replace("0b","").zfill(8)
    re = []
    for i in range(len(st1)):
        if st1[i] == "1" and st2[i] == "1": re.append("1")
        else: re.append("0")
    return int("".join(_ for _ in re),2)



for i in range(n):
    solve()
```
:::
--->

<div id="moon"></div>

<style>
#moon {
  width: 80px;
  height: 80px;
  page-break-after: always /*在標籤後換頁*/
}
</style>